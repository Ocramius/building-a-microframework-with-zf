<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Building a micro-framework with ZF3</title>

        <meta name="description" content="Building a MicroFramework with ZendFramework">
        <meta name="author" content="Marco Pivetta">

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

        <link rel="stylesheet" href="css/theme.css" id="theme">
        <link rel="stylesheet" href="bower_components/reveal.js/lib/css/zenburn.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match(/print-pdf/gi) ? 'bower_components/reveal.js/css/print/pdf.css'
                : 'bower_components/reveal.js/css/print/paper.css';
            document.getElementsByTagName('head')[0].appendChild(link);
        </script>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                
                    
                        <section><h1>Hi!</h1></section>

                    
                    
                
                    
                        <section><h1>I'm <span class="doctrine-color">Marco</span>!</h1>
</section>

                    
                    
                
                    
                        <section><h1><a href="https://twitter.com/Ocramius" target="_blank">Ocramius</a></h1>
</section>

                    
                    
                
                    
                        <section><img src="assets/img/ocramius.gif" width="40%" class="crisp-image"/></section>

                    
                    
                
                    
                        <section><img src="assets/img/roave.svg"/>
</section>

                    
                    
                
                    
                        <section><img src="assets/img/zf-logo.svg"/>
</section>

                    
                    
                
                    
                        <section><img src="assets/img/doctrine.svg"/>
</section>

                    
                    
                
                    
                        <section><h2>
    Building a
    <span class="doctrine-color">micro-framework</span>
    with
    <span class="zf-color">ZendFramework</span>
</h2></section>

                    
                    
                
                    
                        <section><h2>
    Why
    <span class="zf-color">ZendFramework</span>
    <br/>
    and
    <strong>not</strong>
    <br/>
    <span class="zf-color">ZendFramework 3</span>?
</h2>

<p class="fragment">
    <span class="zf-color">ZF3</span> is not yet complete
</p>
<p class="fragment">
    <span class="zf-color">ZF3</span> is also not a complete revolution
</p>
</section>

                    
                    
                
                    
                        <section><h2>Fear not</h2>

<p class="fragment">
    ...for the path is clear!
</p>
</section>

                    
                    
                
                    
                        <section><h2><span class="php-color">Tiny</span> steps, big <span class="doctrine-color">evolution</span></h2>

<p class="fragment">The framework ecosystem changed</p>
<p class="fragment">More people like "<span class="php-color">no-framework</span>" approaches</p>
<p class="fragment">More granular <span class="php-color">components</span> and <span class="php-color">libraries</span></p>
<p class="fragment">Less tolerance towards <span class="php-color">framework coupling</span></p>
</section>

                    
                    
                
                    
                        <section><h2>Diverging <span class="doctrine-color">Practices</span></h2>

<p class="fragment">
    <span class="php-color">Static site</span>
    <span class="zf-color">generators</span>
</p>
<p class="fragment">
    More <strong>focus</strong>
    on <span class="doctrine-color">Domain Logic</span>
    in <strong>complex</strong>
    <span class="doctrine-color">Domains</span>
</p>
</section>

                    
                    
                
                    
                        <section><h2>These are <strong>GOOD</strong> improvements!</h2>
</section>

                    
                    
                
                    
                        <section><h2>We will also start <strong>from scratch</strong></h2>

<p class="fragment">No <span class="zf-color">framework</span></p>
<p class="fragment"><span class="doctrine-color">Domain first</span></p>
<p class="fragment">Exploring advantages and limitations</p>
</section>

                    
                    
                
                    
                        <section><h2>Our example: <span class="php-color">Poker</span></h2>

<p class="fragment">Very specific <span class="doctrine-color">Domain Language</span></p>
<p class="fragment">Very specific <span class="doctrine-color">Domain Rules</span></p>
<p class="fragment">Not too complex</p>
<p class="fragment">Plus we're in <span class="php-color">Vegas</span>!</p>
</section>

                    
                    
                
                    
                        <section><h2><span class="php-color">Poker</span> phases</h2>

<ol class="fragment">
    <li>Small blind</li>
    <li>Big blind</li>
    <li>Fold</li>
    <li>Call (under the gun)</li>
    <li>flop</li>
    <li>turn</li>
    <li>river</li>
    <li>showdown</li>
</ol>
</section>

                    
                    
                
                    
                        <section><h2><span class="php-color">Poker</span> actions</h2>

<ul class="fragment">
    <li>Join a game</li>
    <li>Post a blind</li>
    <li>See own cards</li>
    <li>See community cards</li>
    <li>Fold</li>
    <li>Call</li>
    <li>Bet</li>
    <li>Check</li>
    <li>Tap (same as Check)</li>
</ul>
</section>

                    
                    
                
                    
                        <section><h2>Let's see the <span class="doctrine-color">Code!</span></h2>
</section>

                    
                    
                
                    
                        <section><h2>Our first <span class="php-color">Poker</span> <span class="zf-color">app</span></h2>

<p class="fragment">No frameworks</p>
<p class="fragment">Minimal</p>
<p class="fragment">Straight to the point</p>
<p class="fragment">Nothing else but <span class="doctrine-color">domain endpoints</span></p>
</section>

                    
                    
                
                    
                        <section><h2><strong>MOAR</strong> <span class="zf-color">Code</span>!</h2></section>

                    
                    
                
                    
                        <section><h2>Some <span class="doctrine-color">Advantages</span>:</h2>

<p class="fragment">
    Easy to understand
</p>

<p class="fragment">
    Minimal
</p>
</section>

                    
                    
                
                    
                        <section><h2>Some <span class="php-color">Disadvantages</span>:</h2>

<p class="fragment">
    One missed <code>break;</code> and <strong>BOOM</strong>!
</p>

<p class="fragment">
    What if we want to add security?
</p>

<p class="fragment">
    What if we want to add
    <attr title="Cross-origin resource sharing" class="doctrine-color">CORS</attr>?
</p>

<p class="fragment">
    What if we want to have templating?
</p>

<p class="fragment">
    What if we want to add logging?
</p>
</section>

                    
                    
                
                    
                        <section><h2>
    There is a constant
    <strong>NEED</strong>
    for
    <span class="doctrine-color">Flexibility</span>
</h2>

<p class="fragment">We may hope for a <span class="doctrine-color">stable specification</span></p>
<p class="fragment">We know we won't get it</p>
</section>

                    
                    
                
                    
                        <section><h2>
    (for me) <span class="doctrine-color">flexibility</span> = <span class="zf-color">refactoring quickly</span>
</h2>

<p class="fragment">We need to partition our code</p>
<p class="fragment">We need to add some kind of "<span class="zf-color">pluggable functionality</span>"</p></section>

                    
                    
                
                    
                        <section><h2>We still want to keep it <span class="zf-color">Micro</span></h2>

<p class="fragment">Our app is small</p>
<p class="fragment">We want to keep it small</p>
<p class="fragment">We want to stay fast in changing!</p>
</section>

                    
                    
                
                    
                        <section><h2>Pick a <span class="zf-color">Micro-Framework</span>?</h2>
</section>

                    
                    
                
                    
                        <section><h2>Introducing <span class="zf-color">ZF2</span> usage</h2>

<p class="fragment">That's just my personal choice</p>
<p class="fragment">Other frameworks are also OK</p>
<p class="fragment">We use <span class="zf-color">ZeffMu</span> to make it micro</p>
</section>

                    
                    
                
                    
                        <section><h2>Let's see the <span class="doctrine-color">Code!</span></h2>
</section>

                    
                    
                
                    
                        <section><h2><span class="doctrine-color">Advantages</span>:</h2>

<p class="fragment">
    Easy to understand
</p>

<p class="fragment">
    Minimal
</p>

<p class="fragment">
    Plugin system (<span class="zf-color">Modules</span>)
</p>

<p class="fragment">
    Event system (<span class="zf-color">EventManager</span>)
</p>

<p class="fragment">
    Dependency Injection (<span class="zf-color">ServiceManager</span>)
</p>
</section>

                    
                    
                
                    
                        <section><h2><span class="doctrine-color">Disadvantages</span>:</h2>

<p class="fragment">
    Kind-of bloated file (may need to split)
</p>

<p class="fragment">
    The <span class="zf-color">controller helpers</span> are <span class="php-color">too magic</span>?
</p>

<p class="fragment">
    Some framework coupling
</p>
</section>

                    
                    
                
                    
                        <section><h2>A <span class="zf-color">zend-expressive</span> example</h2>
</section>

                    
                    
                
                    
                        <section><h2>It is not about <span class="zf-color">ZendFramework</span> anymore</h2>
</section>

                    
                    
                
                    
                        <section><h2>What new things can we do?</h2>
</section>

                    
                    
                
                    
                        <section><h2><span class="doctrine-color">Integration</span> with other <span class="php-color">Frameworks</span></h2>

<p class="fragment">
    We can talk to <span class="php-color">Slim 3</span>
</p>

<p class="fragment">
    We can talk to <span class="php-color">Symfony 3</span>
</p>

<p class="fragment">
    We can talk to <span class="php-color">Drupal 8</span>
</p>

<p class="fragment">
    We can build our own
    <span class="php-color">web server</span>
    (or use a <span class="php-color">PSR-7</span> compliant one)
</p>
</section>

                    
                    
                
                    
                        <section><h2>Use other <span class="doctrine-color">PSR-7 Middlewares</span></h2>

<p class="fragment">
    Remember <span class="php-color">StackPHP</span>?
</p>

<p class="fragment">
    We can modify request/response as we wish
</p>

<p class="fragment">
    Replace the session system?
    (<a href="https://github.com/Ocramius/StorageLessSession" class="php-color">Ocramius/StorageLessSession</a>)
</p>
</section>

                    
                    
                
                    
                        <section><h2>There is some <span class="zf-color">ZF3</span> already in it</h2>

<p class="fragment">
    You just didn't notice it
</p>

<p class="fragment">
    That also is a good thing!
</p>

<p class="fragment">
    Unnoticeable upgrades, big low-level impact
</p>
</section>

                    
                    
                
                    
                        <section><h2>Thanks!</h2>
</section>

                    
                    
                
            </div>
        </div>
        <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
        <script src="bower_components/reveal.js/js/reveal.js"></script>

        <script>
            Reveal.initialize({
                controls:     true,
                progress:     true,
                history:      true,
                center:       true,
                transition:   'none',
                // Optional reveal.js plugins
                dependencies: [
                    {
                        src: 'bower_components/reveal.js/lib/js/classList.js',
                        condition: function() { return !document.body.classList; }
                    },
                    {
                        src: 'bower_components/reveal.js/plugin/markdown/marked.js',
                        condition: function() { return !!document.querySelector( '[data-markdown]' ); }
                    },
                    {
                        src: 'bower_components/reveal.js/plugin/markdown/markdown.js',
                        condition: function() { return !!document.querySelector( '[data-markdown]' ); }
                    },
                    {
                        src: 'bower_components/reveal.js/plugin/highlight/highlight.js',
                        async: true,
                        condition: function() { return !!document.querySelector( 'pre code' ); },
                        callback: function() { hljs.initHighlightingOnLoad(); }
                    },
                    {
                        src: 'bower_components/reveal.js/plugin/zoom-js/zoom.js',
                        async: true
                    },
                    {
                        src: 'bower_components/reveal.js/plugin/notes/notes.js',
                        async: true
                    }
                ]
            });
        </script>
    </body>
</html>
